package com.dns.taxchina.ui.adapter;import java.util.ArrayList;import java.util.List;import java.util.Map;import android.content.Context;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.LinearLayout;import com.dns.taxchina.ui.view.IndexListElement;import com.dns.taxchina.ui.view.IndexListViewLayout;import com.dns.taxchina.ui.view.IndexTitleLayout;/** * @author henzil * @version create time:2014-5-4_下午3:09:23 * @Description 首页内容listview adapter */public class IndexContentAdapter extends BaseAdapter {	private Context context;	private String TAG;	public static final int TYPE_TITLE = 0;	public static final int TYPE_LIST = 1;	private List<Map<String, Object>> list = new ArrayList<Map<String, Object>>();	public IndexContentAdapter(Context context, String TAG) {		this.context = context;		this.TAG = TAG;	}	@Override	public int getCount() {		return list.size();	}	@Override	public Object getItem(int position) {		return list.get(position);	}	@Override	public long getItemId(int position) {		return position;	}	@Override	public int getViewTypeCount() {		return 2;	}	@Override	public int getItemViewType(int position) {		if ((Integer) list.get(position).get("type") == TYPE_TITLE) {			return TYPE_TITLE;		}		return TYPE_LIST;	}	@Override	public View getView(int position, View convertView, ViewGroup parent) {		IndexListElement indexListElement = null;		if (convertView == null) {			if (getItemViewType(position) == TYPE_TITLE) {				indexListElement = new IndexTitleLayout(context);			} else {				indexListElement = new IndexListViewLayout(context);			}			convertView = (LinearLayout) indexListElement;			convertView.setTag(indexListElement);		} else {			indexListElement = (IndexListElement) convertView.getTag();		}		indexListElement.updateView(list.get(position).get("model"), TAG);		return convertView;	}	public void refresh(List<Map<String, Object>> list) {		this.list.clear();		this.list.addAll(list);		notifyDataSetChanged();	}}